<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="801px" preserveAspectRatio="none" style="width:838px;height:801px;" version="1.1" viewBox="0 0 838 801" width="838px" zoomAndPan="magnify"><defs><filter height="300%" id="f7ftjiwex2i9i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5baa54a124a42313c4c826bfbe9a3006]
class direct_connection_state--><rect codeLine="1" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="137.6328" id="direct_connection_state" style="stroke:#A80036;stroke-width:1.5;" width="183" x="247.89" y="650"/><ellipse cx="262.89" cy="666" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M265.8588,671.6406 Q265.2806,671.9375 264.64,672.0781 Q263.9994,672.2344 263.2963,672.2344 Q260.7963,672.2344 259.4681,670.5938 Q258.1556,668.9375 258.1556,665.8125 Q258.1556,662.6875 259.4681,661.0313 Q260.7963,659.375 263.2963,659.375 Q263.9994,659.375 264.64,659.5313 Q265.2963,659.6875 265.8588,659.9844 L265.8588,662.7031 Q265.2338,662.125 264.64,661.8594 Q264.0463,661.5781 263.4213,661.5781 Q262.0775,661.5781 261.39,662.6563 Q260.7025,663.7188 260.7025,665.8125 Q260.7025,667.9063 261.39,668.9844 Q262.0775,670.0469 263.4213,670.0469 Q264.0463,670.0469 264.64,669.7813 Q265.2338,669.5 265.8588,668.9219 L265.8588,671.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="276.89" y="670.1543">direct_connection_state</text><line style="stroke:#A80036;stroke-width:1.5;" x1="248.89" x2="429.89" y1="682" y2="682"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="253.89" y="696.2104">client_to_server : queue</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="253.89" y="709.0151">server_to_client : queue</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="253.89" y="721.8198">queue_mutex : mutex</text><line style="stroke:#A80036;stroke-width:1.5;" x1="248.89" x2="429.89" y1="728.4141" y2="728.4141"/><ellipse cx="258.89" cy="739.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="267.89" y="742.6245">send_to_server()</text><ellipse cx="258.89" cy="752.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="267.89" y="755.4292">send_to_client()</text><ellipse cx="258.89" cy="765.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="267.89" y="768.2339">fetch_from_server()</text><ellipse cx="258.89" cy="777.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105" x="267.89" y="781.0386">fetch_from_client()</text><!--MD5=[6bd1ee5aa55b51254eb0433f5ea760fa]
class direct_connection_address--><rect codeLine="11" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="73.6094" id="direct_connection_address" style="stroke:#A80036;stroke-width:1.5;" width="201" x="238.89" y="499"/><ellipse cx="253.89" cy="515" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M256.8588,520.6406 Q256.2806,520.9375 255.64,521.0781 Q254.9994,521.2344 254.2963,521.2344 Q251.7963,521.2344 250.4681,519.5938 Q249.1556,517.9375 249.1556,514.8125 Q249.1556,511.6875 250.4681,510.0313 Q251.7963,508.375 254.2963,508.375 Q254.9994,508.375 255.64,508.5313 Q256.2963,508.6875 256.8588,508.9844 L256.8588,511.7031 Q256.2338,511.125 255.64,510.8594 Q255.0463,510.5781 254.4213,510.5781 Q253.0775,510.5781 252.39,511.6563 Q251.7025,512.7188 251.7025,514.8125 Q251.7025,516.9063 252.39,517.9844 Q253.0775,519.0469 254.4213,519.0469 Q255.0463,519.0469 255.64,518.7813 Q256.2338,518.5 256.8588,517.9219 L256.8588,520.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169" x="267.89" y="519.1543">direct_connection_address</text><line style="stroke:#A80036;stroke-width:1.5;" x1="239.89" x2="438.89" y1="531" y2="531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="239.89" x2="438.89" y1="539" y2="539"/><ellipse cx="249.89" cy="550" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="258.89" y="553.2104">connect() : shared_state</text><ellipse cx="249.89" cy="562.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="258.89" y="566.0151">process_all()</text><!--MD5=[a51e4cef3fd81858adf4cbeddf49a032]
class connection--><rect codeLine="16" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="99.2188" id="connection" style="stroke:#A80036;stroke-width:1.5;" width="128" x="649.39" y="7"/><ellipse cx="676.09" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M672.0119,18.7656 L672.0119,16.6094 L679.4025,16.6094 L679.4025,18.7656 L676.9338,18.7656 L676.9338,26.8438 L679.4025,26.8438 L679.4025,29 L672.0119,29 L672.0119,26.8438 L674.4806,26.8438 L674.4806,18.7656 L672.0119,18.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="70" x="692.69" y="27.1543">connection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="650.39" x2="776.39" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="650.39" x2="776.39" y1="47" y2="47"/><ellipse cx="660.39" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="669.39" y="61.2104">is_usable()</text><ellipse cx="660.39" cy="70.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="669.39" y="74.0151">update()</text><ellipse cx="660.39" cy="83.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="669.39" y="86.8198">send()</text><ellipse cx="660.39" cy="96.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="669.39" y="99.6245">fetch_messages()</text><!--MD5=[3985b78ffd727db136333806307e74ea]
class direct_connection_info--><rect codeLine="23" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="86.4141" id="direct_connection_info" style="stroke:#A80036;stroke-width:1.5;" width="223" x="601.89" y="183"/><ellipse cx="639.39" cy="199" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M642.3588,204.6406 Q641.7806,204.9375 641.14,205.0781 Q640.4994,205.2344 639.7963,205.2344 Q637.2963,205.2344 635.9681,203.5938 Q634.6556,201.9375 634.6556,198.8125 Q634.6556,195.6875 635.9681,194.0313 Q637.2963,192.375 639.7963,192.375 Q640.4994,192.375 641.14,192.5313 Q641.7963,192.6875 642.3588,192.9844 L642.3588,195.7031 Q641.7338,195.125 641.14,194.8594 Q640.5463,194.5781 639.9213,194.5781 Q638.5775,194.5781 637.89,195.6563 Q637.2025,196.7188 637.2025,198.8125 Q637.2025,200.9063 637.89,201.9844 Q638.5775,203.0469 639.9213,203.0469 Q640.5463,203.0469 641.14,202.7813 Q641.7338,202.5 642.3588,201.9219 L642.3588,204.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="658.39" y="203.1543">direct_connection_info</text><line style="stroke:#A80036;stroke-width:1.5;" x1="602.89" x2="823.89" y1="215" y2="215"/><line style="stroke:#A80036;stroke-width:1.5;" x1="602.89" x2="823.89" y1="223" y2="223"/><ellipse cx="612.89" cy="234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="133" x="621.89" y="237.2104">kind() : connection_kind</text><ellipse cx="612.89" cy="246.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="621.89" y="250.0151">addr_kind() : connection_addr_kind</text><ellipse cx="612.89" cy="259.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="621.89" y="262.8198">type_id() : identifier</text><!--MD5=[c8e79270879428308d7a53475eb8fd88]
class direct_client_connection--><rect codeLine="29" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="48" id="direct_client_connection" style="stroke:#A80036;stroke-width:1.5;" width="184" x="85.39" y="352.5"/><ellipse cx="100.39" cy="368.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M103.3588,374.1406 Q102.7806,374.4375 102.14,374.5781 Q101.4994,374.7344 100.7963,374.7344 Q98.2963,374.7344 96.9681,373.0938 Q95.6556,371.4375 95.6556,368.3125 Q95.6556,365.1875 96.9681,363.5313 Q98.2963,361.875 100.7963,361.875 Q101.4994,361.875 102.14,362.0313 Q102.7963,362.1875 103.3588,362.4844 L103.3588,365.2031 Q102.7338,364.625 102.14,364.3594 Q101.5463,364.0781 100.9213,364.0781 Q99.5775,364.0781 98.89,365.1563 Q98.2025,366.2188 98.2025,368.3125 Q98.2025,370.4063 98.89,371.4844 Q99.5775,372.5469 100.9213,372.5469 Q101.5463,372.5469 102.14,372.2813 Q102.7338,372 103.3588,371.4219 L103.3588,374.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="152" x="114.39" y="372.6543">direct_client_connection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="86.39" x2="268.39" y1="384.5" y2="384.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="86.39" x2="268.39" y1="392.5" y2="392.5"/><!--MD5=[cb8f1cc1280f0fd1587f3435159035e7]
class direct_server_connection--><rect codeLine="32" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="48" id="direct_server_connection" style="stroke:#A80036;stroke-width:1.5;" width="189" x="498.89" y="512"/><ellipse cx="513.89" cy="528" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M516.8588,533.6406 Q516.2806,533.9375 515.64,534.0781 Q514.9994,534.2344 514.2963,534.2344 Q511.7963,534.2344 510.4681,532.5938 Q509.1556,530.9375 509.1556,527.8125 Q509.1556,524.6875 510.4681,523.0313 Q511.7963,521.375 514.2963,521.375 Q514.9994,521.375 515.64,521.5313 Q516.2963,521.6875 516.8588,521.9844 L516.8588,524.7031 Q516.2338,524.125 515.64,523.8594 Q515.0463,523.5781 514.4213,523.5781 Q513.0775,523.5781 512.39,524.6563 Q511.7025,525.7188 511.7025,527.8125 Q511.7025,529.9063 512.39,530.9844 Q513.0775,532.0469 514.4213,532.0469 Q515.0463,532.0469 515.64,531.7813 Q516.2338,531.5 516.8588,530.9219 L516.8588,533.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="527.89" y="532.1543">direct_server_connection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="499.89" x2="686.89" y1="544" y2="544"/><line style="stroke:#A80036;stroke-width:1.5;" x1="499.89" x2="686.89" y1="552" y2="552"/><!--MD5=[3b5bee4652460673d1628979e6f48807]
class accept_handler--><rect codeLine="35" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="60.8047" id="accept_handler" style="stroke:#A80036;stroke-width:1.5;" width="129" x="434.89" y="346"/><ellipse cx="449.89" cy="362" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M452.8588,367.6406 Q452.2806,367.9375 451.64,368.0781 Q450.9994,368.2344 450.2963,368.2344 Q447.7963,368.2344 446.4681,366.5938 Q445.1556,364.9375 445.1556,361.8125 Q445.1556,358.6875 446.4681,357.0313 Q447.7963,355.375 450.2963,355.375 Q450.9994,355.375 451.64,355.5313 Q452.2963,355.6875 452.8588,355.9844 L452.8588,358.7031 Q452.2338,358.125 451.64,357.8594 Q451.0463,357.5781 450.4213,357.5781 Q449.0775,357.5781 448.39,358.6563 Q447.7025,359.7188 447.7025,361.8125 Q447.7025,363.9063 448.39,364.9844 Q449.0775,366.0469 450.4213,366.0469 Q451.0463,366.0469 451.64,365.7813 Q452.2338,365.5 452.8588,364.9219 L452.8588,367.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="463.89" y="366.1543">accept_handler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="435.89" x2="562.89" y1="378" y2="378"/><line style="stroke:#A80036;stroke-width:1.5;" x1="435.89" x2="562.89" y1="386" y2="386"/><ellipse cx="445.89" cy="397" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="454.89" y="400.2104">operator()</text><!--MD5=[93dc87aba7fd3b57a6b01e74201a7c3f]
class direct_acceptor--><rect codeLine="39" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="73.6094" id="direct_acceptor" style="stroke:#A80036;stroke-width:1.5;" width="137" x="279.89" y="189"/><ellipse cx="298.04" cy="205" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M301.0087,210.6406 Q300.4306,210.9375 299.79,211.0781 Q299.1494,211.2344 298.4462,211.2344 Q295.9462,211.2344 294.6181,209.5938 Q293.3056,207.9375 293.3056,204.8125 Q293.3056,201.6875 294.6181,200.0313 Q295.9462,198.375 298.4462,198.375 Q299.1494,198.375 299.79,198.5313 Q300.4462,198.6875 301.0087,198.9844 L301.0087,201.7031 Q300.3837,201.125 299.79,200.8594 Q299.1962,200.5781 298.5712,200.5781 Q297.2275,200.5781 296.54,201.6563 Q295.8525,202.7188 295.8525,204.8125 Q295.8525,206.9063 296.54,207.9844 Q297.2275,209.0469 298.5712,209.0469 Q299.1962,209.0469 299.79,208.7813 Q300.3837,208.5 301.0087,207.9219 L301.0087,210.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="312.74" y="209.1543">direct_acceptor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="280.89" x2="415.89" y1="221" y2="221"/><line style="stroke:#A80036;stroke-width:1.5;" x1="280.89" x2="415.89" y1="229" y2="229"/><ellipse cx="290.89" cy="240" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="299.89" y="243.2104">make_connection()</text><ellipse cx="290.89" cy="252.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="299.89" y="256.0151">process_accepted()</text><!--MD5=[c55f40a50d5e5134093d6fdf9ed8a42e]
class direct_connection_factory--><rect codeLine="44" fill="#FEFECE" filter="url(#f7ftjiwex2i9i)" height="73.6094" id="direct_connection_factory" style="stroke:#A80036;stroke-width:1.5;" width="193" x="70.89" y="19.5"/><ellipse cx="85.89" cy="35.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M88.8588,41.1406 Q88.2806,41.4375 87.64,41.5781 Q86.9994,41.7344 86.2963,41.7344 Q83.7963,41.7344 82.4681,40.0938 Q81.1556,38.4375 81.1556,35.3125 Q81.1556,32.1875 82.4681,30.5313 Q83.7963,28.875 86.2963,28.875 Q86.9994,28.875 87.64,29.0313 Q88.2963,29.1875 88.8588,29.4844 L88.8588,32.2031 Q88.2338,31.625 87.64,31.3594 Q87.0463,31.0781 86.4213,31.0781 Q85.0775,31.0781 84.39,32.1563 Q83.7025,33.2188 83.7025,35.3125 Q83.7025,37.4063 84.39,38.4844 Q85.0775,39.5469 86.4213,39.5469 Q87.0463,39.5469 87.64,39.2813 Q88.2338,39 88.8588,38.4219 L88.8588,41.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="161" x="99.89" y="39.6543">direct_connection_factory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="71.89" x2="262.89" y1="51.5" y2="51.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="71.89" x2="262.89" y1="59.5" y2="59.5"/><ellipse cx="81.89" cy="70.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="90.89" y="73.7104">make_connector()</text><ellipse cx="81.89" cy="83.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="90.89" y="86.5151">make_acceptor()</text><!--MD5=[e935691292c77460dab603146e7c8e90]
reverse link connection to direct_connection_info--><path codeLine="49" d="M713.39,126.52 C713.39,145.62 713.39,165.79 713.39,182.86 " fill="none" id="connection-backto-direct_connection_info" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="706.39,126.4,713.39,106.4,720.39,126.4,706.39,126.4" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="714.39" y="149.0669">implements</text><!--MD5=[9c285471a75b8b19a20431bb4124859c]
reverse link direct_connection_info to direct_client_connection--><path codeLine="50" d="M605.92,277.04 C571.54,291.43 532.91,305.93 496.39,316 C409.74,339.89 384.55,328.5 296.39,346 C286.68,347.93 276.57,350.13 266.53,352.44 " fill="none" id="direct_connection_info-backto-direct_client_connection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="603.41,270.51,624.55,269.09,608.9,283.38,603.41,270.51" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="546.39" y="312.0669">extends</text><!--MD5=[79eae475bc93dcb02ad1fe20069a9d56]
reverse link direct_connection_info to direct_server_connection--><path codeLine="51" d="M701.97,289.22 C691.21,339.53 672.37,411.23 643.39,469 C635.66,484.42 624.19,499.88 614.18,511.97 " fill="none" id="direct_connection_info-backto-direct_server_connection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="695.16,287.59,706.03,269.4,708.87,290.4,695.16,287.59" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="689.39" y="381.0669">extends</text><!--MD5=[19971ad073f8ef5368538dbbd10d6c6e]
link accept_handler to direct_server_connection--><path codeLine="52" d="M510.05,407.36 C517.19,425.76 527.45,449.48 539.39,469 C547.72,482.62 558.61,496.47 568.43,507.95 " fill="none" id="accept_handler-to-direct_server_connection" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="571.71,511.74,568.8547,502.3141,568.4419,507.9559,562.8001,507.5431,571.71,511.74" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="540.39" y="457.5669">accepts</text><!--MD5=[150575e7f219e762b18057d35501cfc7]
link direct_acceptor to accept_handler--><path codeLine="53" d="M385.33,263.33 C409.69,287.29 441.39,318.46 465.18,341.85 " fill="none" id="direct_acceptor-to-accept_handler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="468.92,345.54,465.3288,336.3692,465.3631,342.026,459.7064,342.0602,468.92,345.54" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="439.39" y="312.0669">invokes</text><!--MD5=[7032658294fdd989c04fe78a749fe91e]
reverse link direct_acceptor to direct_connection_address--><path codeLine="54" d="M346.94,276.57 C345.12,338.74 342.05,443.84 340.44,498.9 " fill="none" id="direct_acceptor-backto-direct_connection_address" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="347.33,263.24,343.1603,269.1233,346.9873,275.2351,351.157,269.3518,347.33,263.24" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="346.39" y="381.0669">listens at</text><!--MD5=[7937197b80e0ae5d1dee6927d3fa52d1]
link direct_acceptor to direct_client_connection--><path codeLine="55" d="M306.56,263.33 C276.02,289.84 235.33,325.18 207.85,349.05 " fill="none" id="direct_acceptor-to-direct_client_connection" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="203.89,352.49,213.3097,349.6143,207.667,349.2137,208.0676,343.5711,203.89,352.49" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[633bb5df790e0cd6f9639d4079e7a466]
link direct_acceptor to direct_server_connection--><path codeLine="56" d="M417,243.15 C470.82,259.6 542.86,290.77 581.39,346 C614.97,394.13 607.56,467.02 599.99,506.75 " fill="none" id="direct_acceptor-to-direct_server_connection" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="598.97,511.89,604.6438,503.8397,599.9423,506.9855,596.7966,502.284,598.97,511.89" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4f51bfc2d94ecc55445ddefe5a3d4452]
link direct_connection_address to direct_connection_state--><path codeLine="57" d="M339.39,573.19 C339.39,593.61 339.39,619.88 339.39,644.43 " fill="none" id="direct_connection_address-to-direct_connection_state" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="339.39,649.64,343.39,640.64,339.39,644.64,335.39,640.64,339.39,649.64" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="340.39" y="616.0669">instantiates</text><!--MD5=[fead947c8a5b07334767ad199914002e]
link direct_client_connection to direct_connection_state--><path codeLine="58" d="M168.8473,412.4782 C168.8473,412.4782 153.28,521.51 176.39,573 C189.82,602.91 212.8,629.18 237.35,650.84 " fill="none" id="direct_client_connection-direct_connection_state" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="247.56,659.53,243.3002,650.65,243.7529,656.2887,238.1142,656.7414,247.56,659.53" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="243.7529" x2="237.66" y1="656.2887" y2="651.105"/><polygon fill="#FFFFFF" points="171.34,400.74,166.1809,405.7782,168.8473,412.4782,174.0064,407.44,171.34,400.74" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="177.39" y="540.5669">shares</text><!--MD5=[f3e10378ee9fc7d45006847f59887913]
link direct_server_connection to direct_connection_state--><path codeLine="59" d="M551.1872,567.0736 C551.1872,567.0736 479.81,617.93 442.18,644.75 " fill="none" id="direct_server_connection-direct_connection_state" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="431.14,652.62,440.7908,650.6549,435.212,649.7185,436.1484,644.1397,431.14,652.62" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435.212" x2="441.72" y1="649.7185" y2="645.075"/><polygon fill="#FFFFFF" points="560.96,560.11,553.7524,560.3342,551.1872,567.0736,558.3948,566.8494,560.96,560.11" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="498.39" y="616.0669">shares</text><!--MD5=[93c8b5a83cf5ac157cd3f19b49a84747]
link direct_client_connection to direct_connection_address--><path codeLine="60" d="M197.371,410.7385 C197.371,410.7385 225.96,451.96 243.39,469 C251.29,476.72 260.19,484.16 269.3,491.07 " fill="none" id="direct_client_connection-direct_connection_address" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="280.05,498.93,275.1558,490.3833,276.0173,495.9741,270.4264,496.8356,280.05,498.93" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="276.0173" x2="269.56" y1="495.9741" y2="491.26"/><polygon fill="#FFFFFF" points="190.92,400.62,190.7727,407.8296,197.371,410.7385,197.5184,403.5289,190.92,400.62" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="257.39" y="450.0669">weakly</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="244.39" y="465.1997">references</text><!--MD5=[27b535a27668a8b7720f11b388e07dda]
reverse link direct_connection_factory to direct_connection_address--><path codeLine="62" d="M131.35,104.45 C81.96,174.97 6,310.26 67.39,407 C87.38,438.51 169.91,474.75 238.87,500.61 " fill="none" id="direct_connection_factory-backto-direct_connection_address" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="139.02,93.71,132.2783,96.2692,132.0476,103.4766,138.7893,100.9174,139.02,93.71" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[eadf8e2ea199caa0cd0cd8c3c1a2a20a]
link direct_connection_factory to direct_client_connection--><path codeLine="63" d="M168.53,93.67 C170.54,157.67 174.69,289.55 176.5,347.33 " fill="none" id="direct_connection_factory-to-direct_client_connection" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="176.66,352.36,180.3745,343.2385,176.5025,347.3625,172.3785,343.4905,176.66,352.36" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="175.39" y="230.5669">instantiates</text><!--MD5=[4f621eb8b816fcd42054a21a26201137]
link direct_connection_factory to direct_acceptor--><path codeLine="64" d="M206.66,93.85 C235.72,120.73 275.28,157.34 305.22,185.05 " fill="none" id="direct_connection_factory-to-direct_acceptor" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="309.19,188.73,305.3221,179.6724,305.5281,185.3256,299.875,185.5315,309.19,188.73" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="270.39" y="149.0669">instantiates</text><!--MD5=[6158802b789ff858d675afa094f0d086]
@startuml
class direct_connection_state {
    client_to_server : queue
    server_to_client : queue
    queue_mutex : mutex
    +send_to_server()
    +send_to_client()
    +fetch_from_server()
    +fetch_from_client()
}

class direct_connection_address {
    +connect() : shared_state
    +process_all()
}

interface connection {
    +is_usable()
    +update()
    +send()
    +fetch_messages()
}

class direct_connection_info {
    +kind() : connection_kind
    +addr_kind() : connection_addr_kind
    +type_id() : identifier
}

class direct_client_connection {
}

class direct_server_connection {
}

class accept_handler {
    +operator()
}

class direct_acceptor {
    +make_connection()
    +process_accepted()
}

class direct_connection_factory {
    +make_connector()
    +make_acceptor()
}

connection <|- - direct_connection_info : implements
direct_connection_info <|- - direct_client_connection : extends
direct_connection_info <|- - direct_server_connection : extends
accept_handler - -> direct_server_connection : accepts
direct_acceptor - -> accept_handler : invokes
direct_acceptor o- - direct_connection_address : listens at
direct_acceptor ..> direct_client_connection
direct_acceptor ..> direct_server_connection
direct_connection_address ..> direct_connection_state : instantiates
direct_client_connection o- -> direct_connection_state : shares 
direct_server_connection o- -> direct_connection_state : shares
direct_client_connection o..> direct_connection_address : weakly\nreferences

direct_connection_factory *- - direct_connection_address
direct_connection_factory ..> direct_client_connection : instantiates
direct_connection_factory ..> direct_acceptor : instantiates
@enduml

PlantUML version 1.2021.3(Mon Mar 22 17:53:19 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>